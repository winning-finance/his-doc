<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>hot-key 热键方案 | HIS-前端开发手册</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/his-doc/favicon.ico">
    <meta name="description" content="">
    
    <link rel="preload" href="/his-doc/assets/css/0.styles.cdf22441.css" as="style"><link rel="preload" href="/his-doc/assets/js/app.3e585e60.js" as="script"><link rel="preload" href="/his-doc/assets/js/2.10c1cb4c.js" as="script"><link rel="preload" href="/his-doc/assets/js/22.5e6179a0.js" as="script"><link rel="prefetch" href="/his-doc/assets/js/10.280fc16e.js"><link rel="prefetch" href="/his-doc/assets/js/11.3d229d7f.js"><link rel="prefetch" href="/his-doc/assets/js/12.91c2fdff.js"><link rel="prefetch" href="/his-doc/assets/js/13.69ee0054.js"><link rel="prefetch" href="/his-doc/assets/js/14.5acd31a0.js"><link rel="prefetch" href="/his-doc/assets/js/15.ad59b1cc.js"><link rel="prefetch" href="/his-doc/assets/js/16.dd400fbe.js"><link rel="prefetch" href="/his-doc/assets/js/17.d0134f62.js"><link rel="prefetch" href="/his-doc/assets/js/18.7575b3c6.js"><link rel="prefetch" href="/his-doc/assets/js/19.7c9060eb.js"><link rel="prefetch" href="/his-doc/assets/js/20.7a604ca2.js"><link rel="prefetch" href="/his-doc/assets/js/21.a37fc924.js"><link rel="prefetch" href="/his-doc/assets/js/23.9eef5f5d.js"><link rel="prefetch" href="/his-doc/assets/js/24.7cd9c591.js"><link rel="prefetch" href="/his-doc/assets/js/25.95442e96.js"><link rel="prefetch" href="/his-doc/assets/js/26.b78b7b37.js"><link rel="prefetch" href="/his-doc/assets/js/27.3b808357.js"><link rel="prefetch" href="/his-doc/assets/js/3.ad457c25.js"><link rel="prefetch" href="/his-doc/assets/js/4.d14089bb.js"><link rel="prefetch" href="/his-doc/assets/js/5.a2bfff00.js"><link rel="prefetch" href="/his-doc/assets/js/6.7266275c.js"><link rel="prefetch" href="/his-doc/assets/js/7.079b7eae.js"><link rel="prefetch" href="/his-doc/assets/js/8.35a39beb.js"><link rel="prefetch" href="/his-doc/assets/js/9.672f03f9.js">
    <link rel="stylesheet" href="/his-doc/assets/css/0.styles.cdf22441.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><section><div><header class="doc-header"><h2 class="doc-header-logo"><a href="/his-doc/" class="router-link-active"><img src="/his-doc/assets/img/his.647a9dbf.svg" alt=""> <span>前端开发手册</span></a></h2> <ul class="doc-header-nav"><li class="doc-header-nav-item"><a href="/his-doc/guide/" class="doc-header-nav-item-link">
          指南
        </a></li><li class="doc-header-nav-item"><a href="/his-doc/tool/" class="doc-header-nav-item-link router-link-active">
          工具
        </a></li><li class="doc-header-nav-item"><a href="/his-doc/standard/" class="doc-header-nav-item-link">
          规范
        </a></li></ul></header></div> <main class="doc-main typo doc-main-md"><aside class="doc-aside"><ul class="doc-aside-nav"><li><a href="/his-doc/tool/" class="router-link-active">工具概览</a></li><li><a href="/his-doc/tool/his-cli.html">his-cli 脚手架</a></li><li><a href="/his-doc/tool/his-request.html">his-request 请求</a></li><li><a href="/his-doc/tool/hot-key.html" aria-current="page" class="router-link-exact-active router-link-active">hot-key 热键方案</a></li><li><a href="/his-doc/tool/micro-app.html">@winning/micro-app</a></li><li><a href="/his-doc/tool/vue-cli-plugin-his.html">vue-cli 插件</a></li><li><a href="/his-doc/tool/winning-cookie-webpack-plugin.html">webpack 自动登陆插件</a></li><li><a href="/his-doc/tool/winning-dll.html">winning-dll 组件</a></li><li><a href="/his-doc/tool/winning-micro-app-service.html">wms 使用文档</a></li></ul></aside> <div class="content__default"><h2 id="hot-key-热键方案"><a href="#hot-key-热键方案" class="header-anchor">#</a> hot-key 热键方案</h2> <h3 id="说明"><a href="#说明" class="header-anchor">#</a> 说明</h3> <p>该方案是为了方便 his 开发者便捷的进行快捷键的添加而设计的一套方案。基于 vue 的自定义指令，便于在任何地方添加。</p> <h3 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 基础使用 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name"><span class="token namespace">v-win-hotkey:</span><span class="token namespace">[{eventName:</span><span class="token namespace">`outpChargePayment`,eventDesc:</span><span class="token namespace">`门诊收费收银`,defaultHotKey:</span>`ctrl+z`}]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleCashier<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 组件使用 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name"><span class="token namespace">v-win-hotkey:</span><span class="token namespace">[{eventName:</span><span class="token namespace">`outpChargePayment`,eventDesc:</span><span class="token namespace">`门诊收费收银`,defaultHotKey:</span>`ctrl+z`}].component</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleCashier<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 允许在元素不在页面上时生效 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name"><span class="token namespace">v-win-hotkey:</span><span class="token namespace">[{eventName:</span><span class="token namespace">`outpChargePayment`,eventDesc:</span><span class="token namespace">`门诊收费收银`,defaultHotKey:</span>`ctrl+z`}].always</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleCashier<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 遍历配置 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
    <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">v-win-hotkey:</span><span class="token namespace">[{eventName:</span><span class="token namespace">`test${item}`,eventDesc:</span><span class="token namespace">`测试`,defaultHotKey:</span><span class="token namespace">`ctrl+${item}`,args:</span><span class="token namespace">{data:</span>item}}]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>
          handler
        <span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>⚠️ 默认情况下，在指令所在的元素不存在与 dom 上时，快捷键的调用将不会生效，如需生效，请添加 always</p></blockquote> <blockquote><p>⚠️ 如果组件在多个微应用中有应用，并且需要保持快捷键的统一，请添加 component。否则每个页面将独立维护各自的快捷键</p></blockquote> <h3 id="参数说明"><a href="#参数说明" class="header-anchor">#</a> 参数说明</h3> <h4 id="中括号-内的参数"><a href="#中括号-内的参数" class="header-anchor">#</a> 中括号([])内的参数</h4> <table><thead><tr><th>参数名</th> <th>说明</th> <th>默认值</th></tr></thead> <tbody><tr><td>eventName</td> <td>用于表明当前快捷键的事件名称</td> <td>—</td></tr> <tr><td>eventDesc</td> <td>当前快捷键的中文描述，用于在修改和展示中使用</td> <td>—</td></tr> <tr><td>defaultHotKey</td> <td>默认的快捷键，请全部小写</td> <td>—</td></tr> <tr><td>args</td> <td>用于给快捷键触发的函数传递的参数</td> <td>—</td></tr> <tr><td>disRegister</td> <td>为了便于在遍历的时候，只有部分元素需要注册时的判断条件</td> <td>false</td></tr></tbody></table> <h4 id="通过-添加的参数"><a href="#通过-添加的参数" class="header-anchor">#</a> 通过.添加的参数</h4> <table><thead><tr><th>参数名</th> <th>说明</th> <th>默认值</th></tr></thead> <tbody><tr><td>component</td> <td>默认情况下，快捷键的修改将根据页面来存储，即不同页面的同一组件，快捷键的修改互不干扰。添加此参数，会单独存储，统一修改</td> <td>—</td></tr> <tr><td>always</td> <td>默认情况下，在组件没有销毁时，但指令注册的元素不在 dom 上时，快捷键将不会触发。添加该参数，将会保持触发。</td> <td>—</td></tr></tbody></table> <h4 id="等号后面的参数"><a href="#等号后面的参数" class="header-anchor">#</a> 等号后面的参数</h4> <table><thead><tr><th>参数名</th> <th>说明</th> <th>默认值</th></tr></thead> <tbody><tr><td>—</td> <td>快捷键触发将会调用的 vue 组件的 method 函数</td> <td>—</td></tr></tbody></table> <h3 id="tasking"><a href="#tasking" class="header-anchor">#</a> Tasking</h3> <ul><li>[x] 支持快捷键的指令注册</li> <li>[x] 支持快键键的修改</li> <li>[x] 支持快捷键的展示</li> <li>[x] 支持不同页面同一组件快捷键的统一修改</li> <li>[x] 支持元素不展示时的快捷键触发</li> <li>[x] 支持云端同步</li> <li>[x] 支持元素被遮挡时不触发</li></ul></div></main> <footer class="doc-footer"></footer></section><div class="global-ui"></div></div>
    <script src="/his-doc/assets/js/app.3e585e60.js" defer></script><script src="/his-doc/assets/js/2.10c1cb4c.js" defer></script><script src="/his-doc/assets/js/22.5e6179a0.js" defer></script>
  </body>
</html>
